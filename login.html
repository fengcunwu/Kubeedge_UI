<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        #login-container {
            margin-top: 3%;
            margin-bottom: 30%;
            width: 60%;
        }
    </style>
    <script>
        $(function () {

            /*
             *  输入框得到焦点时隐藏错误信息
             */
            $(".form-control").focus(function () {
                var inputName = $(this).attr("name");

                $("#" + inputName + "Error").css("display", "none");
            });

            /*
             * 输入框推动焦点时进行校验
             */
            // $(".form-control").blur(function () {
            //     var inputName = $(this).attr("name");

            //     invokeValidateFunction(inputName);
            // })
        });
        function logincheck() {
           var b1 =  validateLoginname();
           var b2 = validateLoginpass();
           if(b1==true && b2==true){
            window.location.href='./index.html';
           }
        }
        /*
         * 输入input名称，调用对应的validate方法。
         * 例如input名称为：loginname，那么调用validateLoginname()方法。
         */
        // function invokeValidateFunction(inputName) {
        //     inputName = inputName.substring(0, 1).toUpperCase() + inputName.substring(1);
        //     var functionName = "validate" + inputName;

        //     return eval(functionName + "()");
        // }

        /*
         * 校验登录名
         */
        function validateLoginname() {

            var bool = true;
            $("#loginnameError").css("display", "none");
            var value = $("#exampleInputEmail").val();
            console.log("name"+value);
            if (!value) {// 非空校验
                $("#loginnameError").css("display", "");
                $("#loginnameError").text("用户名不能为空！");
                bool = false;
            } else if (value.length < 3 || value.length > 20) {//长度校验
                $("#loginnameError").css("display", "");
                $("#loginnameError").text("用户名长度必须在3 ~ 20之间！");
                bool = false;
            }
            return bool;
        }
        /*校验密码*/
        function validateLoginpass() {
            var bool = true;
            $("#loginpassError").css("display", "none");
            var value = $("#exampleInputPassword").val();
            console.log("pass"+value);
            if (!value) {// 非空校验
                $("#loginpassError").css("display", "");
                $("#loginpassError").text("密码不能为空！");
                bool = false;
            } else if (value.length < 3 || value.length > 20) {//长度校验
                $("#loginpassError").css("display", "");
                $("#loginpassError").text("密码长度必须在3 ~ 20之间！");
                bool = false;
            }
            return bool;
        }
    </script>
</head>

<body>
    <p style="text-align: center"><img src="./img/advantech.jpg" /></p>
    <div class="container" id="login-container">

        <div class="row clearfix">
            <div class="col-md-12 column">
                <form role="form">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Email address</label>
                        <input type="email" class="form-control" name="loginname" id="exampleInputEmail" />
                        <input id="loginnameError" style="display: none; color: red;" value="" />
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword1">Password</label><input type="password" class="form-control" name="loginpass" id="exampleInputPassword" />
                        <input id="loginpassError" style="display: none; color: red;" value="" />
                    </div>

                    <div class="checkbox">
                        <label><input type="checkbox" checked="checked" />Check me out</label>
                    </div>
                    <button type="submit" class="btn btn-success" onclick="logincheck()">Login</a></button>

                </form>
            </div>
        </div>
    </div>

</body>

</html>